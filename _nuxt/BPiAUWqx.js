import{d as x,r as c,z,c as M,e as q,f as A,G as t,n as D,ai as T,p as u}from"./DOJuQvem.js";import{p as G}from"./DudneCL3.js";import{c as H}from"./D8xv3Zp9.js";const S=["id","width","height","disableRemotePlayback"],K=x({__name:"CldVideoPlayer",props:{colors:{},controls:{type:Boolean,default:!0},fontFace:{},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},transformation:{},hideContextMenu:{type:Boolean},autoPlay:{default:"never"},className:{},height:{},id:{},logo:{type:[Boolean,Object],default:!0},onDataLoad:{},onError:{},onMetadataLoad:{},onPause:{},onPlay:{},onEnded:{},playerRef:{},src:{},version:{default:"1.11.1"},videoRef:{},quality:{default:"auto"},width:{},config:{},pictureInPictureToggle:{type:Boolean},chapters:{type:[Object,Boolean]},chaptersButton:{type:Boolean},disableRemotePlayback:{type:Boolean}},setup(g,{expose:P}){const o=g,{className:p,height:y,id:B,onDataLoad:k,onError:w,onMetadataLoad:$,onPause:E,onPlay:_,onEnded:C,src:f,transformation:r,version:m,quality:N,width:h,config:O}=o,I=Array.isArray(r)?r:[r];let i=f;if(i.startsWith("http"))try{const e=G(f);typeof(e==null?void 0:e.publicId)=="string"&&(i=e==null?void 0:e.publicId)}catch(e){console.error(e)}I.unshift({quality:N});const v=c(),L=c(),l=o.videoRef||L,V=c(),n=o.playerRef||V,b=B||`player-${i.replace("/","-")}`;let d="cld-video-player cld-fluid";p&&(d=`${d} ${p}`);const s={error:w,loadeddata:k,loadedmetadata:$,pause:E,play:_,ended:C};function j(e){const a=s[e.type];typeof a=="function"&&a({player:n.value,video:l.value})}const F=()=>{if("cloudinary"in window){v.value=window.cloudinary;const e=H({...o,colors:o.colors||{},fontFace:o.fontFace||""},{cloud:{cloudName:u().public.cloudinary.cloudName},...u().public.cloudinary.cloud,...u().public.cloudinary.url,...O});n.value=v.value.videoPlayer(l.value,e),Object.keys(s).forEach(a=>{var R;typeof s[a]=="function"&&((R=n.value)==null||R.on(a,j))})}};return P({playerRef:n,videoRef:l}),z({script:[{id:`cloudinary-videoplayer-${b}`,src:`https://unpkg.com/cloudinary-video-player@${m}/dist/cld-video-player.min.js`,onload:F,onerror:e=>console.error(`Failed to load Cloudinary Video Player: ${e.message}`)}],link:[{href:`https://unpkg.com/cloudinary-video-player@${m||"1.11.1"}/dist/cld-video-player.min.css`,rel:"stylesheet"}]}),(e,a)=>(M(),q("div",{style:T({width:"100%",aspectRatio:`${t(h)} / ${t(y)}`})},[A("video",{id:t(b),ref_key:"videoRef",ref:l,class:D(t(d)),width:t(h),height:t(y),disableRemotePlayback:e.disableRemotePlayback},null,10,S)],4))}});export{K as default};
