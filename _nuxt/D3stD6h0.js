import{d as q,a6 as Q,W as Y,c as z,e as tt,M as et,N as rt,r as nt,K as st,O as at,G as O}from"./DOJuQvem.js";import{u as R}from"./ChVf-pZ6.js";import"./DudneCL3.js";const ot={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare"},it={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},ct={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},b=e=>{if(!e)return e;const t=Number(e);return isNaN(t)?e:Math.round(t)},c=(e,t,n,s,r)=>{n?(r&&(n=b(n)),e.searchParams.set(t,n.toString())):s&&e.searchParams.delete(t)},h=(e,t,n)=>{e.searchParams.has(t)||e.searchParams.set(t,n.toString())},w=(e,t)=>{const n=Number(e.searchParams.get(t));return isNaN(n)?void 0:n},F=e=>{const{pathname:t,search:n}=e;return`${t}${n}`},v=e=>e.hostname==="n"?F(e):e.toString(),m=(e,t)=>typeof e=="string"?new URL(e,t??"http://n/"):e,E=new Map(Object.entries(ot)),ut=Object.entries(it);function lt(e){return T(e)||ft(e)}function T(e){if(typeof e=="string"&&!e.startsWith("https://"))return!1;const{hostname:t}=m(e);if(E.has(t))return E.get(t);for(const[n,s]of ut)if(t.endsWith(`.${n}`))return s;return!1}function ft(e){const{pathname:t}=m(e);for(const[n,s]of Object.entries(ct))if(t.startsWith(n))return s;return!1}const mt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return t&&t>4e3&&(n&&(n=Math.round(n*4e3/t)),t=4e3),n&&n>4e3&&(t&&(t=Math.round(t*4e3/n)),n=4e3),c(r,"w",t,!0,!0),c(r,"h",n,!0,!0),c(r,"fm",s),h(r,"fit","fill"),r},dt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return c(r,"width",t,!0,!0),c(r,"height",n,!0,!0),c(r,"format",s),t&&n&&(h(r,"fit","cover"),h(r,"sharp","true")),r},pt=({url:e,width:t,height:n,format:s})=>{var a;const r=m(e);if(c(r,"w",t,!0,!0),c(r,"h",n,!0,!0),h(r,"fit","min"),s){r.searchParams.set("fm",s);const o=r.searchParams.get("auto");o==="format"?r.searchParams.delete("auto"):o!=null&&o.includes("format")&&r.searchParams.set("auto",o.split(",").filter(i=>i!=="format").join(","))}else r.searchParams.delete("fm"),(a=r.searchParams.get("auto"))!=null&&a.includes("format")||r.searchParams.append("auto","format");return r},gt=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,ht=e=>{const t=m(e),n=t.pathname.match(gt);if(!n)throw new Error("Invalid Shopify URL");const[,s,r,a,o,i,u,f]=n;t.pathname=`${s}${u}`;const l=a||t.searchParams.get("width"),d=o||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(l)||void 0,height:Number(d)||void 0,format:f?f.slice(1):void 0,params:{crop:i,size:r},cdn:"shopify"}},yt=({base:e,width:t,height:n,format:s,params:r})=>{const a=m(e);return c(a,"width",t,!0,!0),c(a,"height",n,!0,!0),c(a,"crop",r==null?void 0:r.crop),c(a,"format",s),a},bt=({url:e,width:t,height:n})=>{const s=ht(e);if(!s)return;const r={...s,width:t,height:n};return yt(r)},$t=({url:e,width:t,height:n})=>{const s=m(e);return c(s,"w",t,!0,!0),c(s,"h",n,!0,!0),h(s,"crop","1"),s},wt=({url:e,width:t,height:n})=>{const s=m(e);return c(s,"w",t,!0,!0),c(s,"h",n,!0,!0),c(s,"q",w(s,"q"),!0),s},St=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,xt=e=>e?Object.fromEntries(e.split(",").map(t=>t.split("_"))):{},A=({host:e,cloudName:t,assetType:n,deliveryType:s,signature:r,transformations:a={},version:o,id:i,format:u})=>{u&&(a.f=u);const f=Object.entries(a).map(([d,p])=>`${d}_${p}`).join(",");return`https://${[e,t,n,s,r,f,o,i].filter(Boolean).join("/")}`},C=e=>{const n=[...m(e).toString().matchAll(St)];if(!n.length)throw new Error("Invalid Cloudinary URL");const s=n[0].groups||{},{transformations:r="",idAndFormat:a,...o}=s;delete s.idAndFormat;const i=a.lastIndexOf("."),u=i<0?a:a.slice(0,i),f=i<0?void 0:a.slice(i+1),{w:l,h:d,f:p,...y}=xt(r),g=p&&p!=="auto"?p:f;return{base:A({...o,id:u,transformations:y}),width:Number(l)||void 0,height:Number(d)||void 0,format:g,cdn:"cloudinary",params:{...s,id:s.deliveryType==="fetch"?a:u,format:g,transformations:y}}},vt=({base:e,width:t,height:n,format:s,params:r})=>{var i;const a=C(e.toString()),o={transformations:{},...a.params,...r,format:s||"auto"};return t&&(o.transformations.w=b(t).toString()),n&&(o.transformations.h=b(n).toString()),(i=o.transformations).c||(i.c="lfill"),A(o)},Pt=({url:e,width:t,height:n,format:s="auto"})=>{var o,i;const r=C(e);if(!r)throw new Error("Invalid Cloudinary URL");if(((o=r.params)==null?void 0:o.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((i=r.params)!=null&&i.signature)throw new Error("Cloudinary transformer does not support signed URLs");const a={...r,width:t,height:n,format:s};return vt(a)},_t=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,Ut=e=>Object.fromEntries(e.split(",").map(t=>t.split("="))),M=({host:e,transformations:t={},path:n})=>{const s=Object.entries(t).map(([a,o])=>`${a}=${o}`).join(",");return`https://${[e,"cdn-cgi","image",s,n].join("/")}`},D=e=>{const t=m(e),n=[...t.toString().matchAll(_t)];if(!n.length)throw new Error("Invalid Cloudflare URL");const s=n[0].groups||{},{transformations:r,...a}=s,{width:o,height:i,f:u,...f}=Ut(r);return M({...a,transformations:f}),{base:t.toString(),width:Number(o)||void 0,height:Number(i)||void 0,format:u,cdn:"cloudflare",params:{...s,transformations:f}}},jt=({base:e,width:t,height:n,format:s,params:r})=>{var i;const a=D(e.toString()),o={transformations:{},...a.params,...r};return t&&(o.transformations.width=t==null?void 0:t.toString()),n&&(o.transformations.height=n==null?void 0:n.toString()),s&&(o.transformations.f=s==="jpg"?"jpeg":s),(i=o.transformations).fit||(i.fit="cover"),new URL(M(o))},It=({url:e,width:t,height:n,format:s="auto"})=>{const r=D(e);if(!r)throw new Error("Invalid Cloudflare URL");const a={...r,width:t,height:n,format:s};return jt(a)},Ot=({url:e,width:t,height:n})=>{const s=m(e);return c(s,"width",t,!0,!0),t&&n&&h(s,"aspect_ratio",`${t}:${n}`),s},Rt=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,Et=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,kt=e=>e?Object.fromEntries(e.split(":").map(t=>{if(!t)return[];const[n,s]=t.split("(");return[n,s.replace(")","")]})):{},Nt=e=>{if(!e)return;const t=Object.entries(e).map(([n,s])=>`${n}(${s??""})`);if(t.length!==0)return`filters:${t.join(":")}`},Lt=e=>{const t=m(e),n=t.hostname==="img2.storyblok.com"?Et:Rt,[s]=t.pathname.matchAll(n);if(!s||!s.groups)throw new Error("Invalid Storyblok URL");const{id:r,crop:a,width:o,height:i,filters:u,flipx:f,flipy:l}=s.groups,{format:d,...p}=kt(u);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+r,width:Number(o)||void 0,height:Number(i)||void 0,format:d,params:{crop:a,filters:p,flipx:f,flipy:l},cdn:"storyblok"}},Wt=({base:e,width:t=0,height:n=0,format:s,params:r={}})=>{const{crop:a,filters:o,flipx:i="",flipy:u=""}=r,f=`${i}${t}x${u}${n}`;return new URL([e,"m",a,f,Nt(o),s].filter(Boolean).join("/"))},Bt=({url:e,width:t,height:n,format:s})=>{const r=Lt(e);if(r)return s&&(r.params||(r.params={filters:{}}),r.params.filters||(r.params.filters={}),r.params.filters.format=s),Wt({...r,width:t,height:n})},qt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return c(r,"w",t,!0,!0),c(r,"h",n,!0,!0),c(r,"fm",s,!0),t&&n&&h(r,"fit","crop"),r},k=e=>{const n=m(e).searchParams.get("url");if(!n||!n.startsWith("http"))return!1;const s=T(n);return s?{cdn:s,url:n}:!1},zt=({base:e,width:t,params:{quality:n=75,root:s="_vercel"}={}})=>{const r=new URL("http://n");return r.pathname=`/${s}/image`,r.searchParams.set("url",e.toString()),c(r,"w",t,!1,!0),h(r,"q",n),F(r)},H=({url:e,width:t,cdn:n})=>{const s=m(e),r=s.pathname.startsWith("/_next/image")||s.pathname.startsWith("/_vercel/image"),a=r?s.searchParams.get("url"):e.toString();if(a)return c(s,"w",t,!0,!0),r?v(s):zt({base:a,width:t,params:{root:n==="nextjs"?"_next":"_vercel"}})},Ft=e=>H({...e,cdn:"nextjs"}),Tt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return c(r,"wid",t,!0,!0),c(r,"hei",n,!0,!0),c(r,"fmt",s,!0),c(r,"qlt",w(r,"qlt"),!0),c(r,"scl",w(r,"scl"),!0),h(r,"fit","crop"),!t&&!n&&h(r,"scl",1),r},At=({url:e,width:t,height:n,format:s})=>{const r=m(e);return c(r,"width",t,!0,!0),c(r,"height",n,!0,!0),c(r,"format",s,!0),c(r,"quality",w(r,"quality"),!0),h(r,"enlarge",0),r},Ct=({url:e,width:t,height:n,format:s})=>{const r=m(e);return c(r,"width",t,!0,!0),c(r,"height",n,!0,!0),c(r,"format",s),c(r,"quality",w(r,"quality"),!0),r},x={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Mt(e){return Object.keys(x).find(s=>x[s]===e)||""}function Dt(e){let t=e.toString(),n=[];if(t){let s=t.split("imgeng=");s.length>1&&(n=s[1].split("/"))}return n}function Ht(e){let t=e.toString(),n="";if(t){let s=t.split("imgeng=");s.length>1?n=s[0].slice(0,-1):n=t}return n}const Kt=({url:e,width:t,height:n,format:s})=>{const r=m(e),a=Ht(r);let o={};const i=r.toString()===a?[]:Dt(r);i.length&&(o=Zt(i)),t&&(o.width=t),n&&(o.height=n),s&&(o.format=s),o.hasOwnProperty("fit")||(o={...o,fit:"cropbox"});let u=Gt(o),f=Vt(u),l=f===""?"":a.includes("?")?"&":"?";return`${a}${l}${f}`};function Gt(e){return Object.entries(e).reduce((t,[n,s])=>t+Xt(n,s),"")}function Vt(e){return e&&e!==""?`imgeng=${e}`:""}function Xt(e,t){let n=x[e];return n&&(t||t===0)?`/${n}_${t}`:""}function Zt(e){let t={};return e.forEach(n=>{let s=n.split("_");if(s.length>1){let r=s[0],a=s[1],o=Mt(r);o&&(t[o]=a)}}),t}const Jt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return c(r,"width",t,!0,!0),c(r,"height",n,!0,!0),c(r,"format",s),r.searchParams.has("format")||h(r,"auto","webp"),t&&n&&h(r,"fit","crop"),r},Qt=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,Yt=e=>{var t;return Object.fromEntries(((t=e==null?void 0:e.split(","))==null?void 0:t.map(n=>n.split("=")))??[])},te=({host:e,accountHash:t,transformations:n={},imageId:s})=>{const r=Object.entries(n).map(([o,i])=>`${o}=${i}`).join(",");return`https://${[e,"cdn-cgi","imagedelivery",t,s,r].join("/")}`},K=e=>{const t=m(e),n=[...t.toString().matchAll(Qt)];if(!n.length)throw new Error("Invalid Cloudflare Images URL");const s=n[0].groups||{},{transformations:r,...a}=s,{w:o,h:i,f:u,...f}=Yt(r);return{base:t.toString(),width:Number(o)||void 0,height:Number(i)||void 0,format:u,cdn:"cloudflare_images",params:{...a,transformations:f}}},ee=({base:e,width:t,height:n,format:s,params:r})=>{var i;const a=K(e.toString()),o={transformations:{},...a.params,...r};return t&&(o.transformations.w=t==null?void 0:t.toString()),n&&(o.transformations.h=n==null?void 0:n.toString()),s&&(o.transformations.f=s),(i=o.transformations).fit||(i.fit="cover"),new URL(te(o))},re=({url:e,width:t,height:n,format:s="auto"})=>{const r=K(e);if(!r)throw new Error("Invalid Cloudflare Images URL");const a={...r,width:t,height:n,format:s};return ee(a)},ne=e=>{const t=m(e),[n,...s]=t.pathname.split("/").slice(1),r=Object.fromEntries(n.split(",").map(a=>{const[o,i]=a.split("_");return[o,i]}));if(r.s){const[a,o]=r.s.split("x");r.w||(r.w=a),r.h||(r.h=o)}return{base:s.join("/"),width:Number(r.w)||void 0,height:Number(r.h)||void 0,quality:Number(r.q)||void 0,format:r.f||"auto",params:r,cdn:"ipx"}},N=({base:e,width:t,height:n,format:s,params:r})=>{const a=(r==null?void 0:r.modifiers)??{};t&&n?a.s=`${t}x${n}`:t?a.w=`${t}`:n&&(a.h=`${n}`),s&&(a.f=s);const o=r!=null&&r.base.endsWith("/")?r==null?void 0:r.base:`${r==null?void 0:r.base}/`,i=Object.entries(a).map(([l,d])=>`${l}_${d}`).join(","),u=e.toString(),f=u.startsWith("/")?u.slice(1):u;return`${o}${i}/${f}`},se=e=>{var o,i,u,f;const t=String(e.url),n=m(t),s=n.pathname.startsWith("/_ipx")&&n.hostname!=="n"?`${n.origin}/_ipx`:"/_ipx",r=((i=(o=e.cdnOptions)==null?void 0:o.ipx)==null?void 0:i.base)??s;if(r&&r!=="/"&&t.startsWith(r)){const l=ne(t.replace(r,""));return N({...l,...e,params:{...(u=e.cdnOptions)==null?void 0:u.ipx,base:r}})}return N({...e,base:t,params:{...(f=e.cdnOptions)==null?void 0:f.ipx,base:r}})},ae=({url:e,width:t,height:n,format:s})=>{const r=m(e),a=v(new URL(r.pathname,r.origin)),o={searchParams:new URLSearchParams};return c(o,"href",a,!0,!0),c(o,"w",t,!0,!0),c(o,"h",n,!0,!0),c(o,"f",s),`/_image?${o.searchParams.toString()}`},oe=new Set(["w","h","q","fm","url","width","height","quality"]),ie=e=>{const t=m(e),n=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,s=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,r=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,a=t.searchParams.get("fm")||void 0,o=t.searchParams.get("url")||"",i={quality:r};return t.searchParams.forEach((u,f)=>{oe.has(f)||(i[f]=u)}),t.search="",{base:o,width:n,height:s,format:a,params:i,cdn:"netlify"}},L=({base:e,width:t,height:n,format:s,params:{site:r,quality:a,...o}={}})=>{const i=m("/.netlify/images",r);return Object.entries(o).forEach(([u,f])=>c(i,u,f)),c(i,"q",a,!0,!0),c(i,"w",t,!0,!0),c(i,"h",n,!0,!0),c(i,"fm",s),h(i,"fit","cover"),i.searchParams.set("url",e.toString()),v(i)},ce=e=>{var n,s;const t=m(e.url);if(t.pathname.startsWith("/.netlify/images")){const{params:r,base:a,format:o}=ie(t);return L({base:a,format:o,...e,params:{...r,site:t.hostname==="n"?void 0:t.origin}})}return L({...e,base:e.url,params:{site:(s=(n=e.cdnOptions)==null?void 0:n.netlify)==null?void 0:s.site}})},ue=e=>(e.searchParams.get("tr")||"").split(",").reduce((n,s)=>{const[r,a]=s.split("-");return n[r]=a,n},{}),le=({url:e,width:t,height:n,format:s})=>{const r=m(e),a=ue(r);a.w=t&&Math.round(t),a.h=n&&Math.round(n),a.f||(a.f="auto"),s&&(a.f=s);const o=Object.keys(a).map(i=>{const u=a[i];if(u)return`${i}-${u}`}).filter(i=>i).join(",");return r.searchParams.set("tr",o),r},fe=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function G(e){const t=new URL(e),n=t.pathname+t.search+t.hash,s=n.lastIndexOf("http"),r=n.lastIndexOf("/");let a="";return s>=0?a=n.slice(s):r>=0&&(a=n.slice(r+1)),a}function me(e){return e.startsWith("http")}function de(e){const t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function pe(e){const t=new URL(e),n=G(e),s=me(n)?de(n).pathname:n;return t.pathname=t.pathname.replace(s,""),t.search="",t.hash="",t.toString()}const ge=e=>{if(typeof e!="string"||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function he(e){const t=pe(e),n=new URL(t),s=n.pathname.indexOf("/-/");return s===-1?[]:n.pathname.substring(s).split("/-/").filter(Boolean).map(a=>ge(a))}const ye=e=>e.length?e.reduce((t,n)=>{const[s,r]=n.split("/");return{...t,[s]:r}},{}):{},V=({host:e,uuid:t,operations:n={},filename:s})=>{const r=Object.entries(n).map(([o,i])=>`${o}/${i}`).join("/-/");return`https://${[e,t,r?`-/${r}`:"",s].join("/")}`},X=e=>{const t=m(e),n=[...t.toString().matchAll(fe)];if(!n.length)throw new Error("Invalid Uploadcare URL");const s=n[0].groups||{},{...r}=s,a=G(t.toString()),{format:o,...i}=ye(he(t.toString())),u=o&&o!=="auto"?o:"auto";return{base:V({...r,filename:a||void 0,operations:{...i,format:u}}),cdn:"uploadcare",params:{...s,filename:a||void 0,operations:{...i,format:u}}}},be=({base:e,width:t,height:n,params:s})=>{const r=e.toString(),a=X(r.endsWith("/")?r:`${r}/`),o={operations:{},...a.params,...s};return t&&n?o.operations={...o.operations,resize:`${t}x${n}`}:(t&&(o.operations={...o.operations,resize:`${t}x`}),n&&(o.operations={...o.operations,resize:`x${n}`})),V(o)},$e=({url:e,width:t,height:n})=>{const s=X(e);if(!s)throw new Error("Invalid Uploadcare URL");const r={...s,width:t,height:n};return be(r)},we=["origin"],Z="/storage/v1/object/public/",P="/storage/v1/render/image/public/",Se=e=>e.pathname.startsWith(P),J=e=>{const t=m(e);if(!Se(t))return{cdn:"supabase",base:t.origin+t.pathname};const s=t.pathname.replace(P,""),r=t.searchParams.has("quality")?Number(t.searchParams.get("quality")):void 0,a=t.searchParams.has("width")?Number(t.searchParams.get("width")):void 0,o=t.searchParams.has("height")?Number(t.searchParams.get("height")):void 0,i=t.searchParams.has("format")?t.searchParams.get("format"):void 0,u=t.searchParams.has("resize")?t.searchParams.get("resize"):void 0;return{cdn:"supabase",base:t.origin+Z+s,width:a,height:o,format:i,params:{quality:r,resize:u}}},xe=({base:e,width:t,height:n,format:s,params:r})=>{const a=J(e.toString());e=a.base,t=t||a.width,n=n||a.height,s=s||a.format,r={...a.params,...r};const o=new URLSearchParams;return t&&o.set("width",b(t).toString()),n&&o.set("height",b(n).toString()),s&&we.includes(s)&&o.set("format",s),r!=null&&r.quality&&o.set("quality",b(r.quality).toString()),r!=null&&r.resize&&o.set("resize",r.resize),o.toString()===""?e:a.base.replace(Z,P)+"?"+o.toString()},ve=({url:e,width:t,height:n,format:s,cdnOptions:r})=>{const a=J(e);return xe({base:a.base,width:t||a.width,height:n||a.height,format:s||a.format,params:(r==null?void 0:r.supabase)||a.params})},W={vercel:k,nextjs:k};function Pe(e,t){if(!(t in W))return!1;const n=W[t];return n?n(e):!1}function _(e,t){const n=lt(e)||t;if(!n)return!1;const s=Pe(e,n);return s||{cdn:n,url:e}}const U=e=>({imgix:pt,contentful:mt,"builder.io":dt,shopify:bt,wordpress:$t,cloudimage:wt,cloudinary:Pt,bunny:Ot,storyblok:Bt,cloudflare:It,vercel:H,nextjs:Ft,scene7:Tt,"kontent.ai":qt,keycdn:At,directus:Ct,imageengine:Kt,contentstack:Jt,cloudflare_images:re,ipx:se,astro:ae,netlify:ce,imagekit:le,uploadcare:$e,supabase:ve})[e];var _e=(e,t)=>{if(!(!e||!t))switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}},$=e=>e||e===0?`${e}px`:void 0,Ue=({width:e,height:t,aspectRatio:n,layout:s,objectFit:r="cover",background:a})=>{const o=[["object-fit",r]];return a!=null&&a.startsWith("https:")||a!=null&&a.startsWith("http:")||a!=null&&a.startsWith("data:")?(o.push(["background-image",`url(${a})`]),o.push(["background-size","cover"]),o.push(["background-repeat","no-repeat"])):o.push(["background",a]),s==="fixed"&&(o.push(["width",$(e)]),o.push(["height",$(t)])),s==="constrained"&&(o.push(["max-width",$(e)]),o.push(["max-height",$(t)]),o.push(["aspect-ratio",n?`${n}`:void 0]),o.push(["width","100%"])),s==="fullWidth"&&(o.push(["width","100%"]),o.push(["aspect-ratio",n?`${n}`:void 0]),o.push(["height",$(t)])),Object.fromEntries(o.filter(([,i])=>i))},je=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],B=24,Ie=({width:e,layout:t,resolutions:n=je})=>{if(t==="fullWidth")return n;if(!e)return[];const s=e*2;return t==="fixed"?[e,s]:t==="constrained"?[e,s,...n.filter(r=>r<s)]:[]},Oe=({src:e,width:t,layout:n="constrained",height:s,aspectRatio:r,breakpoints:a,cdn:o,transformer:i,format:u})=>{const f=_(e,o);return f&&!i&&(i=U(f.cdn)),i?(a||(a=Ie({width:t,layout:n})),a.sort((l,d)=>l-d).map(l=>{let d;return s&&r&&(d=Math.round(l/r)),{url:f?f.url:e,width:l,height:d,format:u}})):[]},Re=e=>{let{src:t,cdn:n,transformer:s}=e;const r=_(t,n);return r&&!s&&(s=U(r.cdn)),s?Oe({...e,transformer:s}).map(a=>{const o=s(a);return`${o==null?void 0:o.toString()} ${a.width}w`}).join(`,
`):""};function Ee({width:e,height:t,priority:n,layout:s="constrained",aspectRatio:r,...a}){return e=e&&Number(e)||void 0,t=t&&Number(t)||void 0,n?(a.loading||(a.loading="eager"),a.fetchpriority||(a.fetchpriority="high")):(a.loading||(a.loading="lazy"),a.decoding||(a.decoding="async")),a.alt===""&&(a.role||(a.role="presentation")),r?e?t||(t=e/r):t&&(e=t*r):e&&t&&(r=e/t),{width:e,height:t,aspectRatio:r,layout:s,...a}}function ke(e){let{src:t,cdn:n,transformer:s,background:r,layout:a,objectFit:o,breakpoints:i,width:u,height:f,aspectRatio:l,unstyled:d,...p}=Ee(e);const y=t?_(t,n):void 0;let g=t;if(y&&(g=y.url,s||(s=U(y.cdn))),s&&r==="auto"){const S=l?Math.round(B/l):void 0,I=s({url:g,width:B,height:S});I&&(r=I.toString())}const j={width:u,height:f,aspectRatio:l,layout:a,objectFit:o,background:r};if(p.sizes||(p.sizes=_e(u,a)),d||(p.style={...Ue(j),...p.style}),s){p.srcset=Re({src:g,width:u,height:f,aspectRatio:l,layout:a,breakpoints:i,transformer:s,cdn:n});const S=s({url:g,width:u,height:f});S&&(g=S),(a==="fullWidth"||a==="constrained")&&(u=void 0,f=void 0)}return{...p,src:g==null?void 0:g.toString(),width:u,height:f}}const Ne=q({__name:"image",props:{src:{},width:{},height:{},layout:{},cdn:{},priority:{type:Boolean},background:{},aspectRatio:{},objectFit:{},unstyled:{type:Boolean},transformer:{type:Function}},setup(e){const t=e,n=Q(),s=Y(()=>ke({...n,...t}));return(r,a)=>(z(),tt("img",et(rt(s.value)),null,16))}}),qe=q({__name:"CldImage",props:{loading:{},fetchPriority:{},alt:{},width:{},height:{},config:{},layout:{},priority:{type:Boolean},background:{},blur:{},pixelate:{type:Boolean},grayscale:{type:Boolean},tint:{},opacity:{},shear:{},border:{},loaderOptions:{},zoompan:{type:[String,Boolean,Object]},fillBackground:{type:[Boolean,Object]},recolor:{},remove:{},replace:{},restore:{type:Boolean},replaceBackground:{type:[Boolean,String,Object]},assetType:{},crop:{},deliveryType:{},effects:{},flags:{},format:{},gravity:{},overlays:{},quality:{},rawTransformations:{},removeBackground:{type:Boolean},sanitize:{type:Boolean},seoSuffix:{},src:{},text:{},namedTransformations:{},underlay:{},underlays:{},version:{},zoom:{}},setup(e){const t=e,{config:n,loaderOptions:s,...r}=t,{url:a}=R({options:r,config:n}),o=()=>{const l={...t};l.width=typeof l.width=="string"?Number.parseInt(l.width):l.width,l.height=typeof l.height=="string"?Number.parseInt(l.height):l.height;const{url:d}=R({options:l,config:n});return d},i=nt("image-key"),u=async l=>{await f(l)&&(i.value=`${i.value}-${Math.random()}`)},f=async l=>{const{src:d}=l.target;try{await new Promise((p,y)=>{fetch(d).then(g=>{if(!g.ok){y(g);return}p(g)})})}catch(p){return p.status===423?await f(l):!1}return!0};return(l,d)=>(z(),st(O(Ne),at({key:i.value,src:O(a),layout:l.layout||"constrained",width:l.width,height:l.height},l.$attrs,{alt:l.alt,priority:l.priority,cdn:"cloudinary",transformer:o,onError:u}),null,16,["src","layout","width","height","alt","priority"]))}});export{qe as default};
