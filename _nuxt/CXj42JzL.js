import{d as l,r as s,z as u,c as m,e as p,p as i}from"./DOJuQvem.js";const y={id:"widget_container"},b=l({__name:"CldMediaLibrary",props:{cloudName:{},apiKey:{},username:{},useSaml:{type:Boolean},buttonId:{},params:{}},emits:["onInsert"],setup(r,{emit:t}){const n=s(),e=r,d=t,c=()=>{if("cloudinary"in window){n.value=window.cloudinary;const a=Object.fromEntries(Object.entries(e).filter(o=>!!o[1]));n.value.createMediaLibrary({inline_container:"#widget_container",cloud_name:e.cloudName||i().public.cloudinary.cloudName,api_key:e.apiKey||i().public.cloudinary.apiKey,...a,...e.params},{insertHandler:function(o){d("onInsert",o)}},document.getElementById(e.buttonId))}};return u({script:[{id:`cloudinary-media-library-${Math.floor(Math.random()*100)}`,src:"https://media-library.cloudinary.com/global/all.js",onload:c,onerror:a=>console.error(`Failed to load Cloudinary Media Library: ${a.message}`)}]}),(a,o)=>(m(),p("div",y))}});export{b as default};
